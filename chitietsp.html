<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Tiết Sản Phẩm - KFC</title>
    <link rel="icon" href="assets/kfc-logo.svg" type="image/x-icon">
    <link rel="stylesheet" href="css/chitietsp.css">
    <style>
        
        .quantity {
            display: flex;
            align-items: center;
            margin-top: 20px;
        }

        .quantity button {
            width: 30px;
            height: 30px; 
            background-color: transparent;
            color: black;
            border: 2px solid black;
            cursor: pointer;
            border-radius: 50%; 
            font-size: 30px; 
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity input {
            width: 35px;
            text-align: center;
            border: 1px solid #ddd;
            margin: 0 0px;
            padding: 5px;
            border: none;
            font-size: 20px;
        }
        .quantity input[type="number"]::-webkit-outer-spin-button,
        .quantity input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        

        .total-price {
            font-size: 20px;
            font-weight: bold;
        }

        #add-to-cart {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #db0700;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 24px;
            border-radius: 50px;
            height: 50px;
            font-size: 18px;
        }

        #add-to-cart:hover {
            background-color: #c9302c;
        }
        #thanhToan {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #db0700;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 24px;
            border-radius: 50px;
            height: 50px;
            font-size: 18px;
        }

        #thanhToan:hover {
            background-color: #c9302c;
        }

        /* Ảnh cố định kích thước */
        .product-image img {
            width: 300px;
            height: 300px;
        }


        .banner {
            position: fixed;
            top: 100px;
            width: 150px;
        }

        #left-banner {
            left: 0;
            
        }

        #right-banner {
            right: 0;
        }

        .banner img {
            width: 100%;
            height: auto;
        }

            /* Thông tin sản phẩm */
        .product-info {
            flex: 2;
            max-width: 600px;
            display: flex;
            flex-direction: column;
        }

        .product-info h1 {
            font-size: 28px;
            color: #333;
            margin-bottom: 10px;
        }

        .product-info p {
            font-size: 16px;
            color: #666;
            margin: 5px 0;
        }

        .product-info hr {
            margin: 20px 0;
            border: 1px solid #ddd;
        }

        /* Thông tin bổ sung: thành phần, đánh giá, hướng dẫn sử dụng, thông tin dinh dưỡng */
        .product-info h3 {
            font-size: 20px;
            color: #333;
            margin-top: 10px;
        }

        .item a{
            text-decoration: none;
        }


        .item {
            position: relative;
            display: inline-block;
            text-align: center;
        }

        .item img {
            display: block;
        }

        .badge {
            position: absolute;
            top: 55%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2em;
            color: rgb(0, 0, 0);
            font-weight: bold;
            font-size: 15px;
        }
        
    </style>
</head>
<body>
    <div id="wrapper">
        <div id="header">
            <a href="index.html" class="logo">
                <img src="assets/kfc3.png" alt="KFC Logo" width="200">
            </a>
            <div id="menu">
                <div class="item"><a href="thucdon.html"><strong>THỰC ĐƠN</strong></a></div>
                <div class="item"><a href="thucdon.html"><strong>KHUYẾN MÃI</strong></a></div>
                <div class="item"><a href="#"><strong>DỊCH VỤ TIỆC</strong></a></div>
                <div class="item"><a href="hethongnhahang.html"><strong>HỆ THỐNG NHÀ HÀNG</strong></a></div>
            </div>
            <div id="actions">
                <div class="item"><span id="language-switcher" onclick="toggleLanguage()">English</span></div>
                <div class="item">
                    <a href="login.html">
                        <img src="assets/user48px.png" alt="User" width="30">
                    </a>
                </div>
                <div class="item">
                    <a href="giohang.html" class="cart-container">
                        <img src="assets/gio_hangicon.png" alt="Giỏ hàng" width="45">
                        <span id="so_sp_giohang" class="badge">0</span>
                    </a>
                    
                </div>
                <div class="item">
                    <img src="assets/search.png" alt="Search" width="30" id="search-icon" onclick="toggleSearch()">
                </div>
                <div class="item" id="search-container" style="display: none;">
                    <input type="text" id="search-input" placeholder="Tìm kiếm...">
                    <button onclick="search()">Tìm</button>
                </div>
            </div>
        </div>

        

        <div id="product-details" class="product-details">
            
        </div>
        
        <br>
        <br>
        <br><br>

        <div class="youtube">
            <div class="video-large">
              <iframe src="https://www.youtube.com/embed/GBtVDol_HZc" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="video-small">
              <iframe  src="https://www.youtube.com/embed/ID-fDjA78NA" frameborder="0" allowfullscreen></iframe>
              <iframe  src="https://www.youtube.com/embed/JROukBtGzNI" frameborder="0" allowfullscreen></iframe>
              <iframe  src="https://www.youtube.com/embed/CUtNi6kxlPM" frameborder="0" allowfullscreen></iframe>
            </div>
        </div>
        <br><br>
        <div id="banner2" >

                
            <div class="slider" >
                <div class="slide">
                    <img src="assets/banner2.png" alt="" width="100%">
                </div>
                
            </div>                                  
        </div>

        <div id="footer">
            <div class="mucluc">
                <div class="widget">
                    <h4>Danh Mục Món Ăn</h4>
                    <ul>
                        <li><a href="#mon-moi">Món Mới</a></li>
                        <li><a href="#combo-1-nguoi">Combo 1 Người</a></li>
                        <li><a href="#combo-nhom">Combo Nhóm</a></li>
                        <li><a href="#ga-ran-ga-quay">Gà Rán - Gà Quay</a></li>
                        <li><a href="#burger-com-mi-y">Burger - Cơm - Mì Ý</a></li>
                        <li><a href="#thuc-an-nhe">Thức Ăn Nhẹ</a></li>
                        <li><a href="#thuc-uong-trang-mieng">Thức Uống & Tráng Miệng</a></li>
                    </ul>
                </div>
                <div class="widget">
                    <h4>Về KFC</h4>
                    <ul>
                        <li><a href="#cau-chuyen-cua-chung-toi">Câu Chuyện Của Chúng Tôi</a></li>
                        <li><a href="#tin-khuyen-mai">Tin Khuyến Mãi</a></li>
                        <li><a href="#tin-tuc-kfc">Tin tức KFC</a></li>
                        <li><a href="#tuyen-dung">Tuyển dụng</a></li>
                        <li><a href="#dat-tiec-sinh-nhat">Đặt tiệc Sinh nhật</a></li>
                    </ul>
                </div>
                <div class="widget">
                    <h4>Liên hệ KFC</h4>
                    <ul>
                        <li><a href="#theo-doi-don-hang">Theo dõi đơn hàng</a></li>
                        <li><a href="#he-thong-nha-hang">Hệ Thống Nhà Hàng</a></li>
                        <li><a href="#lien-he-kfc-2">Liên hệ KFC</a></li>
                    </ul>
                </div>
                <div class="widget">
                    <h4>Chính sách</h4>
                    <ul>
                        <li><a href="#chinh-sach-hoat-dong">Chính sách hoạt động</a></li>
                        <li><a href="#chinh-sach-va-quy-dinh">Chính sách và quy định</a></li>
                        <li><a href="#chinh-sach-bao-mat-thong-tin">Chính sách bảo mật thông tin</a></li>
                    </ul>
                </div>
                <div class="widget">
                    <h4><strong>Download App</strong></h4>
                    <a href="https://apps.apple.com/vn/app/kfc-vietnam/id562164615?l=en"><img src="assets/appstore2.png" alt="App Store" width="150"></a><br>
                    <a href="https://play.google.com/store/apps/details?id=kfc.vietnam&hl=en&pli=1"><img src="assets/ggplay.png" alt="Google Play" width="150"></a>
           
                </div>
                <div class="footer-bottom">
                    <p>Copyright © 2023 KFC Vietnam</p>
                </div>
            </div>
                           
        </div>
        <div id="footer"><hr></div>
            
        <div id="footer">
            <div class="thongtinLH">
                <div class="box1">
                    <h2 class="h1">CÔNG TY LIÊN DOANH TNHH KFC VIỆT NAM</h2>
                    <br>
                    <p>Số 292 Bà Triệu, P. Lê Đại Hành, Q. Hai Bà Trưng, TP. Hà Nội. </p>
                    <p>Điện thoại: (028) 38489828</p>
                    <p>Email: lienhe@kfcvietnam.com.vn</p>
                    <p>Mã số thuế: 0100773885</p>
                    <p>Ngày cấp: 29/10/1998 - Nơi cấp: Cục Thuế Thành Phố Hà Nội</p>
                </div>
                <div class="box2">
                    <img src="assets/bo_cong_thuong.png" alt="" width="200px">
                </div>
            </div>
        </div>

    </div>



    <script>

        function displayProductDetails() {
            // Lấy thông tin sản phẩm từ localStorage
            let sanpham = JSON.parse(localStorage.getItem('sanphamct'));

            // Kiểm tra xem thông tin sản phẩm có tồn tại không
            if (sanpham) {
                let img = sanpham[0];
                let ten = sanpham[1];
                let gia = sanpham[2];
                let mota = sanpham[3];

                // Tạo HTML cho thông tin sản phẩm
                const productDetail = `
                    <div class="product-image">
                        <img id="product-img" src="${img}" alt="${ten}">
                    </div>
                    <div class="product-info">
                        <h1 id="product-title">${ten}</h1>
                        <p id="product-price" style="color: red; font-weight: bold; font-size: 24px;">${gia}</p>
                        <p id="product-description">${mota}</p>
                        <hr>
                        <h3>Thành phần:</h3>
                        <p id="product-ingredients">Thông tin không có sẵn</p>
                        <h3>Đánh giá:</h3>
                        <div id="product-reviews">
                            <p>⭐️⭐️⭐️⭐️☆ (4.5/5)</p>
                            <p>"Món ăn rất ngon và hấp dẫn!" - Khách hàng A</p>
                        </div>
                        <h3>Hướng dẫn sử dụng:</h3>
                        <p id="product-instructions">Hâm nóng trong lò vi sóng khoảng 2-3 phút trước khi ăn.</p>
                        <h3>Thông tin dinh dưỡng:</h3>
                        <p id="product-nutrition">Năng lượng: 250 kcal, Protein: 20g, Chất béo: 10g, Carbohydrate: 30g</p>
                        <hr>
                        <div class="quantity">
                            <button onclick="updateQuantity(-1)">-</button>
                            <input type="number" id="quantity" value="1" min="1">
                            <button onclick="updateQuantity(1)">+</button>
                        </div>
                        <button id="add-to-cart" onclick="themvaogiohang(this)"><strong>Thêm vào giỏ hàng<span id='thanhtien'></span></strong></button>
                        <a href="thanhtoan.html"><button id="thanhToan"><strong>Mua ngay</strong></button></a>
                    </div>
                `;
                // Hiển thị thông tin sản phẩm
                document.getElementById('product-details').innerHTML = productDetail;

                // Cập nhật tổng tiền ngay sau khi hiển thị thông tin sản phẩm
                thanhtien();
            } else {
                // Hiển thị thông báo nếu không có thông tin sản phẩm
                document.getElementById('product-details').innerHTML = '<p>Thông tin sản phẩm không có sẵn.</p>';
            }
        }

        function updateQuantity(change) {
            const quantityInput = document.getElementById('quantity');
            let currentQuantity = parseInt(quantityInput.value);
            currentQuantity += change;
            if (currentQuantity < 1) currentQuantity = 1;
            quantityInput.value = currentQuantity;

            // Cập nhật tổng tiền khi thay đổi số lượng
            thanhtien();
        }

        function thanhtien() {
            // Lấy thông tin sản phẩm từ localStorage
            let sanpham = JSON.parse(localStorage.getItem('sanphamct'));
            if (sanpham) {
                let gia = parseFloat(sanpham[2].replace(/\./g, '').replace('₫', '').trim()); // Chuyển đổi giá thành số
                let soLuong = parseInt(document.getElementById('quantity').value);
                let thanhTien = gia * soLuong;
                document.getElementById('thanhtien').innerText = " - (" + thanhTien.toLocaleString() + "₫" + ')';
            }
        }

        

        function themvaogiohang(x) { 
            event.preventDefault();
            // Lấy thông tin sản phẩm từ localStorage
            let sanphamx = JSON.parse(localStorage.getItem('sanphamct'));
            if (sanphamx) {
                let img = sanphamx[0];
                let ten = sanphamx[1];
                let gia = parseFloat(sanphamx[2].replace(/\./g, '').replace('₫', '').trim());
                let mota = sanphamx[3];
                let soLuong = parseInt(document.getElementById('quantity').value);

                // Tạo đối tượng sản phẩm
                let sanpham = {
                    hinh: img,
                    ten: ten,
                    gia: gia,
                    mota: mota,
                    soLuong: soLuong
                };

                // Lấy giỏ hàng từ localStorage
                let giohang = JSON.parse(localStorage.getItem('giohang')) || [];


                let check = true; // check xem sp da co trong gio hang chua
                for (let i = 0; i < giohang.length; i++) {
                    if (giohang[i].ten === sanpham.ten) {
                        check = false;
                        giohang[i].soLuong += sanpham.soLuong; // Cập nhật số lượng sản phẩm trong giỏ hàng
                        break;
                    }
                }

                if(check){
                    giohang.push(sanpham);// them sp vao gio hang
                }

                

                // Lưu giỏ hàng đã cập nhật vào localStorage
                localStorage.setItem('giohang', JSON.stringify(giohang));
                let sospgiohang = 0 
                for (let i = 0; i < giohang.length; i++) { 
                    sospgiohang += giohang[i].soLuong

                }
                
                document.getElementById('so_sp_giohang').innerHTML = sospgiohang

                alert('Sản phẩm đã được thêm vào giỏ hàng!');
            }else{
                alert('Không có sản phẩm để thêm vào giỏ hàng!')
            }

            
            
        }

        let giohang = JSON.parse(localStorage.getItem('giohang')) || [];
        let sospgiohang = 0 
        for (let i = 0; i < giohang.length; i++) { 
            sospgiohang += giohang[i].soLuong

        }

        document.getElementById('so_sp_giohang').innerHTML = sospgiohang

        displayProductDetails();

        
    </script>
    
    
</body>
</html>
